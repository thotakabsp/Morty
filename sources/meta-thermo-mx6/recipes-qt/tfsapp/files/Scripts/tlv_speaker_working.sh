#!/bin/sh
#soft reset
./audAmp
#./enaudio
amixer set PCM 127
i2cset -y 1 0x18 0x00 0x00	#page 0
i2cset -y 1 0x18 0x01 0x01

#clock setting
i2cset -y 1 0x18 0x00 0x00	# page 0
i2cset -y 1 0x18 0x04 0x07	# BCLK -> PLL -> CODEC_CLKIN
i2cset -y 1 0x18 0x05 0x91	# PLL power up & divider is 1
i2cset -y 1 0x18 0x06 0x28
i2cset -y 1 0x18 0x0b 0x94
i2cset -y 1 0x18 0x0c 0x81
i2cset -y 1 0x18 0x0d 0x02
i2cset -y 1 0x18 0x0e 0x00
i2cset -y 1 0x18 0x12 0xa8
i2cset -y 1 0x18 0x13 0x82

#slave mode
i2cset -y 1 0x18 0x1b 0x40
i2cset -y 1 0x18 0x1c 0x01
#i2cset -y 1 0x18 0x1d 0x3c	# loopback control enabled
i2cset -y 1 0x18 0x1e 0x81


i2cset -y 1 0x18 0x1f 0x71

#signal processing
i2cset -y 1 0x18 0x3c 0x01
i2cset -y 1 0x18 0x3d 0x01

#power supplies
i2cset -y 1 0x18 0x00 0x01	#page 1
i2cset -y 1 0x18 0x01 0x08
i2cset -y 1 0x18 0x02 0xa1
i2cset -y 1 0x18 0x47 0x32
i2cset -y 1 0x18 0x7b 0x01

#uplink input select
i2cset -y 1 0x18 0x33 0x68
i2cset -y 1 0x18 0x34 0x10     #IN2L
i2cset -y 1 0x18 0x36 0x00
i2cset -y 1 0x18 0x37 0x10
#i2cset -y 1 0x18 0x37 0xa4
i2cset -y 1 0x18 0x39 0xa4
i2cset -y 1 0x18 0x3a 0xfc
i2cset -y 1 0x18 0x3B 0x80
i2cset -y 1 0x18 0x3C 0x80

#Playback setup
i2cset -y 1 0x18 0x00 0x01	#page 1
i2cset -y 1 0x18 0x09 0x3f
i2cset -y 1 0x18 0x0a 0x08
i2cset -y 1 0x18 0x0c 0x0f
i2cset -y 1 0x18 0x0d 0x1e
i2cset -y 1 0x18 0x0e 0x1a
i2cset -y 1 0x18 0x0f 0x0a	#check LOR
i2cset -y 1 0x18 0x10 0x00
i2cset -y 1 0x18 0x11 0x00
i2cset -y 1 0x18 0x12 0x00
i2cset -y 1 0x18 0x13 0x00
i2cset -y 1 0x18 0x14 0x35

#DAC configuration
i2cset -y 1 0x18 0x00 0x00	#page 0
i2cset -y 1 0x18 0x3f 0xfc
i2cset -y 1 0x18 0x40 0x80
i2cset -y 1 0x18 0x41 0x00
i2cset -y 1 0x18 0x42 0x00
i2cset -y 1 0x18 0x43 0xe0
i2cset -y 1 0x18 0x47 0x80
#ADC Setup 
i2cset -y 1 0x18 0x00 0x00	#page 0
i2cset -y 1 0x18 0x24 0xee	
i2cset -y 1 0x18 0x25 0xee	
i2cset -y 1 0x18 0x26 0x11	
i2cset -y 1 0x18 0x38 0x00
i2cset -y 1 0x18 0x51 0xec
i2cset -y 1 0x18 0x52 0x00
i2cset -y 1 0x18 0x53 0x00	#cross check the value
i2cset -y 1 0x18 0x54 0x00	#cross check the value


